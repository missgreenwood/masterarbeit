#!/usr/local/bin/Rscript

percent_dev = function(sollwert, messwert) {((abs(sollwert-messwert))/messwert)*100}
lablist <- as.vector(0:9)
t <- "k-nächste-Nachbarn-Suche"
s256 <- "k=1, Filtergröße 256"
sub256 <- list(s256, col="black", cex=0.9)
s512 <- "k=1, Filtergröße 512"
sub512 <- list(s512, col="black", cex=0.9)

qualitynn_256 <- read.csv("/Users/judith/Documents/MA/src/src/nn_256.csv", sep=",")
attach(qualitynn_256)
pdf('/Users/judith/Documents/MA/evaluation/nn_256.pdf')
plot(QFNN256, MaxNN256, col="red", xlab="Query-Filter", ylab="Jaccard-Distanzen zum nächsten Nachbarn", xlim=c(0, 9), ylim=c(0.0, 0.8), type="p", pch=16, xaxt="n")
lines(QFNN256, OptimalNN256, col="darkolivegreen3", type="p", pch=16)
lines(QFNN256, ComputedNN256, col="dodgerblue3", type="p", pch=16)
axis(1, at=0:9, labels=lablist)
text(8.5, 0.75, "Maximaler Wert", cex=0.75)
text(8.4, 0.62, "Berechneter Wert", cex=0.75)
text(8.5, 0.49, "Optimaler Wert", cex=0.75)
title(main=t, line=3)
title(sub256)
s256 <- c(OptimalNN256)
m256 <- c(ComputedNN256)
pdf('/Users/judith/Documents/MA/evaluation/percent_dev_nn_256.pdf')
plot(percent_dev(s256, m256), col="darkcyan", xlab="Query-Filter", ylab="Prozentuale Abweichung vom Sollwert", xlim=c(1, 10), ylim=c(0, 100), type="l", pch=16, xaxt="n", yaxs="i")
axis(1, at=1:10, labels=lablist)
title(main=t, line=3)
title(sub256)
detach(qualitynn_256)

qualitynn_512 <- read.csv("/Users/judith/Documents/MA/src/src/nn_512.csv", sep=",")
attach(qualitynn_512)
pdf('/Users/judith/Documents/MA/evaluation/nn_512.pdf')
plot(QFNN512, MaxNN512, col="red", xlab="Query-Filter", ylab="Jaccard-Distanzen zum nächsten Nachbarn", xlim=c(0, 9), ylim=c(0.0, 0.8), type="p", pch=16, xaxt="n")
lines(QFNN512, OptimalNN512, col="darkolivegreen3", type="p", pch=16)
lines(QFNN512, ComputedNN512, col="dodgerblue3", type="p", pch=16)
axis(1, at=0:9, labels=lablist)
text(8.5, 0.75, "Maximaler Wert", cex=0.75)
text(8.4, 0.64, "Berechneter Wert", cex=0.75)
text(8.5, 0.53, "Optimaler Wert", cex=0.75)
title(main=t, line=3)
title(sub512)
s512 <- c(OptimalNN512)
m512 <- c(ComputedNN512)
pdf('/Users/judith/Documents/MA/evaluation/percent_dev_nn_512.pdf')
plot(percent_dev(s512, m512), col="darkcyan", xlab="Query-Filter", ylab="Prozentuale Abweichung vom Sollwert", xlim=c(1, 10), ylim=c(0, 100), type="l", pch=16, xaxt="n", yaxs="i")
axis(1, at=1:10, labels=lablist)
title(main=t, line=3)
title(sub512)
detach(qualitynn_512)