#!/usr/local/bin/Rscript

percent_dev = function(sollwert, messwert) {((abs(sollwert-messwert))/messwert)*100}
se = function(sollwert, messwert) {(messwert-sollwert)^2}
lablist <- as.vector(0:9)
t <- "k-nächste-Nachbarn-Suche"
s256 <- "k=3, Filtergröße 256"
sub256 <- list(s256, col="black", cex=0.9)
s512 <- "k=3, Filtergröße 512"
sub512 <- list(s512, col="black", cex=0.9)

qualitynn3_256 <- read.csv("/Users/judith/Documents/MA/src/src/nn3_256.csv", sep=",")
attach(qualitynn3_256)
s1 <- c(Optimal1NN256)
m1 <- c(Computed1NN256)
s2 <- c(Optimal2NN256)
m2 <- c(Computed2NN256)
s3 <- c(Optimal3NN256)
m3 <- c(Computed3NN256)
pdf('/Users/judith/Documents/MA/evaluation/nn3_256-1.pdf')
plot(QF3NN256, Optimal1NN256, col="darkolivegreen4", xlab="Query-Filter", ylab="Jaccard-Distanzen zu den 3 nächsten Nachbarn", xlim=c(0, 9), ylim=c(0.0, 0.8), type="p", pch=16, xaxt="n")
par(new=TRUE)
plot(QF3NN256, Optimal2NN256, col="darkolivegreen3", type="p", pch=16, xlim=c(0, 9), ylim=c(0.0, 0.8), xaxt="n", xlab="", ylab="")
par(new=TRUE)
plot(QF3NN256, Optimal3NN256, col="darkolivegreen2", type="p", pch=16, xlim=c(0, 9), ylim=c(0.0, 0.8), xaxt="n", xlab="", ylab="")
axis(1, at=0:9, labels=lablist)
text(8.8, 0.66, "Sollwerte", cex=0.75)
title(main=t, line=3)
title(sub256)
pdf('/Users/judith/Documents/MA/evaluation/nn3_256-2.pdf')
plot(QF3NN256, Computed1NN256, col="dodgerblue4", xlab="Query-Filter", ylab="Jaccard-Distanzen zu den 3 nächsten Nachbarn", xlim=c(0, 9), ylim=c(0.0, 0.8), type="p", pch=16, xaxt="n")
par(new=TRUE)
plot(QF3NN256, Computed2NN256, col="dodgerblue3", type="p", pch=16, xlim=c(0, 9), ylim=c(0.0, 0.8), xaxt="n", xlab="", ylab="")
par(new=TRUE)
plot(QF3NN256, Computed3NN256, col="dodgerblue2", type="p", pch=16, xlim=c(0, 9), ylim=c(0.0, 0.8), xaxt="n", xlab="", ylab="")
par(new=TRUE)
plot(((se(s1, m1) + se(s2, m2) + se(s3, m3))/3), type="p", col="red", pch=16, xlim=c(1,10), ylim=c(0.0, 0.8), xaxt="n", xlab="", ylab="")
text(9.7, 0.66, "Messwerte", cex=0.75)
text(9.2, 0.08, "Quadratischer Fehler", cex=0.75)
axis(1, at=1:10, labels=lablist)
title(main=t, line=3)
title(sub256)
detach(qualitynn3_256)

qualitynn3_512 <- read.csv("/Users/judith/Documents/MA/src/src/nn3_512.csv", sep=",")
attach(qualitynn3_512)
s1 <- c(Optimal1NN512)
m1 <- c(Computed1NN512)
s2 <- c(Optimal2NN512)
m2 <- c(Computed2NN512)
s3 <- c(Optimal3NN512)
m3 <- c(Computed3NN512)
pdf('/Users/judith/Documents/MA/evaluation/nn3_512-1.pdf')
plot(QF3NN512, Optimal1NN512, col="darkolivegreen4", xlab="Query-Filter", ylab="Jaccard-Distanzen zu den 3 nächsten Nachbarn", xlim=c(0, 9), ylim=c(0.0, 0.8), type="p", pch=16, xaxt="n")
par(new=TRUE)
plot(QF3NN512, Optimal2NN512, col="darkolivegreen3", type="p", pch=16, xlim=c(0, 9), ylim=c(0.0, 0.8), xaxt="n", xlab="", ylab="")
par(new=TRUE)
plot(QF3NN512, Optimal3NN512, col="darkolivegreen2", type="p", pch=16, xlim=c(0, 9), ylim=c(0.0, 0.8), xaxt="n", xlab="", ylab="")
axis(1, at=0:9, labels=lablist)
text(8.8, 0.66, "Sollwerte", cex=0.75)
title(main=t, line=3)
title(sub512)
pdf('/Users/judith/Documents/MA/evaluation/nn3_512-2.pdf')
plot(QF3NN512, Computed1NN512, col="dodgerblue4", xlab="Query-Filter", ylab="Jaccard-Distanzen zu den 3 nächsten Nachbarn", xlim=c(0, 9), ylim=c(0.0, 0.8), type="p", pch=16, xaxt="n")
par(new=TRUE)
plot(QF3NN512, Computed2NN512, col="dodgerblue3", type="p", pch=16, xlim=c(0, 9), ylim=c(0.0, 0.8), xaxt="n", xlab="", ylab="")
par(new=TRUE)
plot(QF3NN512, Computed3NN512, col="dodgerblue2", type="p", pch=16, xlim=c(0, 9), ylim=c(0.0, 0.8), xaxt="n", xlab="", ylab="")
par(new=TRUE)
plot(((se(s1, m1) + se(s2, m2) + se(s3, m3))/3), type="p", col="red", pch=16, xlim=c(1,10), ylim=c(0.0, 0.8), xaxt="n", xlab="", ylab="")
text(9.7, 0.66, "Messwerte", cex=0.75)
text(9.2, 0.08, "Quadratischer Fehler", cex=0.75)
axis(1, at=1:10, labels=lablist)
title(main=t, line=3)
title(sub512)
detach(qualitynn3_512)

